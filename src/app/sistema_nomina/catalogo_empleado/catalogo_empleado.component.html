<div class="container-fluid mt-3">
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow" style="height: 550px;">
                <div class="card-header border-0">
                  <div class="row align-items-center">
                    <div class="col">
                      <h3 class="mb-0">CATÁLOGO DE EMPLEADOS</h3>
                  </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-4 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Buscar empleado</mat-label>
                                <input #input
                                       type="text"
                                       placeholder="Buscar por nombre, rfc o curp"
                                       (keyup)="busqueda(input.value)"
                                       aria-label="Buscar empleado"
                                       matInput
                                       [formControl]="myControl"
                                       [matAutocomplete]="auto">
                                <mat-autocomplete #auto="matAutocomplete" (optionSelected)='getEmpleado($event)'>
                                  <!-- <mat-option *ngFor="let option of candidatos_busqueda" [value]="option.nombre" [id]="option.id_candidato+''">
                                    {{option.nombre}}
                                  </mat-option> -->
                                </mat-autocomplete>
                              </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-sm-12">
                            <mat-form-field class="w-100">
                                <mat-label>Status</mat-label>
                                <mat-select [(ngModel)]="status" (selectionChange)="mostrarEmpleados()">
                                    <mat-option [value]="-1">Todos</mat-option>
                                    <mat-option [value]="6">En reclutamiento</mat-option>
                                    <mat-option [value]="5">Solicitud</mat-option>
                                    <mat-option [value]="1">Activos</mat-option>
                                    <mat-option [value]="3">Suspendidos</mat-option>
                                    <mat-option [value]="2">De baja</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="col-lg-4 col-sm-12">

                        </div>
                    </div>
                    <div class="row">
                        <div class="form-row">
                            <div class="form-group col-12">
                              <ul class="nav nav-tabs profile-tab" role="tablist">
                                <li class="nav-item">
                                  <a class="nav-link active" data-toggle="tab" href="#empresa_tab" role="tab" aria-selected="true">Datos del empleado</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link " data-toggle="tab" href="#direccion_tab" role="tab" aria-selected="false">Dirección</a>
                                </li>
                                <li class="nav-item">
                                  <a class="nav-link" data-toggle="tab" href="#movientos_tab" role="tab" aria-selected="false">Contratación</a>
                                </li>
                              </ul>
                            </div>
                            <div class="tab-content col-12" id="myTabContent" style="height: 550px;">
                                <div class="tab-pane active col-12" id="empresa_tab" role="tabpanel">
                                    <div class="container col-12">
                                        <div class="row">
                                            <div class="col-lg-2 col-sm-12">
                                            </div>
                                            <div class="col-lg-10 col-sm-12">
                                                <div class="row">
                                                    <div class="col-lg-3 col-sm-12">
                                                        <div class="form-group">
                                                            <label for="apellido_paterno">Apellido paterno *</label>
                                                            <input [(ngModel)]="candidato.apellido_paterno" name="apellido_paterno" type="text" class="form-control" id="apellido_paterno" style="text-transform: uppercase;">
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-3 col-sm-12">
                                                      <div class="form-group">
                                                          <label for="apellido_materno">Apellido materno *</label>
                                                          <input [(ngModel)]="candidato.apellido_materno" name="apellido_materno" type="text" class="form-control" id="apellido_materno" style="text-transform: uppercase;">
                                                      </div>
                                                    </div>
                                                    <div class="col-6">
                                                      <div class="form-group">
                                                          <label for="nombre">Nombres *</label>
                                                          <input [(ngModel)]="candidato.nombre" name="nombre" type="text" class="form-control" id="nombre" style="text-transform: uppercase;">
                                                      </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                  <div class="col-lg-4 col-sm-12">
                                                    <div class="form-group">
                                                      <label for="curp">CURP</label>
                                                      <input [(ngModel)]="candidato.curp" name="rfc" type="text" class="form-control" id="curp" style="text-transform: uppercase;" maxlength="18">
                                                    </div>
                                                  </div>
                                                  <div class="col-lg-4 col-sm-12">
                                                    <div class="form-group">
                                                      <label for="rfc">RFC</label>
                                                      <input [(ngModel)]="candidato.rfc" name="rfc" type="text" class="form-control" id="rfc" style="text-transform: uppercase;" maxlength="14">
                                                    </div>
                                                  </div>
                                                  <div class="col-lg-4" col-sm-12>
                                                    <div class="form-group">
                                                      <label for="numero_social">Número de seguro social</label>
                                                      <input [(ngModel)]="candidato.numero_social" name="numero_social" type="text" class="form-control" id="numero_social">
                                                    </div>
                                                  </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                          
                                        </div>
                                        <div class="row">
                                          <div class="col-lg-4 col-sm-12">
                                            <div class="form-group">
                                              <label for="fecha_nacimiento">Fecha de nacimiento</label>
                                              <input [(ngModel)]="candidato.fecha_nacimiento" name="fecha_nacimiento" type="date" class="form-control" id="fecha_nacimiento" (change)="generarEdad()">
                                            </div>
                                          </div>
                                          <div class="col-lg-2 col-sm-12">
                                            <div class="form-group">
                                              <label for="edad">Edad</label>
                                              <input [(ngModel)]="candidato.edad" name="edad" type="number" class="form-control" id="edad" maxlength="3">
                                            </div>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                            <div class="form-group">
                                                <label for="correo">Correo</label>
                                                <input [(ngModel)]="candidato.correo" name="correo" type="text" class="form-control" id="correo">
                                            </div>
                                          </div>
                                        </div>
                                        <div class="row">
                                          <div class="form-group col-lg-4 col-sm-12">
                                            <label for="tel_1">Telefono(s)</label>
                                            <input [(ngModel)]="candidato.telefono" name="telefono" type="text" class="form-control" id="tel_1" placeholder="Ingrese el número" maxlength="10">
                                          </div>
                                          <div class="form-group col-lg-4 col-sm-12">
                                            <label for="tel_2">&nbsp;</label>
                                            <input [(ngModel)]="candidato.telefono_dos" name="telefono_dos" type="text" class="form-control" id="tel_2" placeholder="Ingrese el número" maxlength="10">
                                          </div>
                                          <div class="form-group col-lg-4 col-sm-12">
                                            <label for="tel_3">&nbsp;</label>
                                            <input [(ngModel)]="candidato.telefono_tres" name="telefono_tres" type="text" class="form-control" id="tel_3" placeholder="Ingrese el número" maxlength="10">
                                          </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="form-group"> 
                                                    <label for="desc_cempresa">Descripción del puesto</label>
                                                    <textarea [(ngModel)]="candidato.descripcion" name="desc_cempresa" class="form-control" rows="5" id="desc_cempresa"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                              </div>
                              <div class="tab-pane col-12" id="direccion_tab" role="tabpanel">
                                <div class="form-row">
                                  <div class="form-group col-md-2">
                                    <label for="calle">Calle</label>
                                    <input [(ngModel)]="candidato.direccion.calle" name="calle" type="text" class="form-control" id="calle" required>
                                  </div>
                                  <div class="form-group col-md-2">
                                    <label for="num_ext">Número ext.</label>
                                    <input [(ngModel)]="candidato.direccion.numero_exterior" name="num_exterior" type="text" class="form-control" id="num_ext" placeholder="">
                                  </div>
                                  <div class="form-group col-md-2">
                                    <label for="num_int">Número int.</label>
                                    <input [(ngModel)]="candidato.direccion.numero_interior" name="num_interior" type="text" class="form-control" id="num_int" placeholder="">
                                  </div>
                                  <div class="form-group col-md-3">
                                    <label for="cruzamientos_form">Cruzamientos</label>
                                    <div class="form-inline form-row align-items-center" id="cruzamientos_form">
                                      <input [(ngModel)]="candidato.direccion.cruzamiento_uno" name="cruzamiento_ext" type="text" class="form-control col-5" id="cruzamientos_int" placeholder="">
                                      <p class="text-center col-2"> y </p>
                                      <input [(ngModel)]="candidato.direccion.cruzamiento_dos" name="cruzamiento_int" type="text" class="form-control col-5" id="cruzamientos_ext" placeholder="">
                                    </div>
                                  </div>
                                  <div class="form-group col-md-2">
                                    <label for="codigo_postal">Código postal</label>
                                    <div class="input-group mb-3">
                                      <input [(ngModel)]="candidato.direccion.codigo_postal" name="codigo_postal" id="codigo_postal" type="text" class="form-control" aria-describedby="icono" maxlength="5">
                                      <div class="input-group-append">
                                        <span class="input-group-text" id="icono" style="cursor:pointer;" (click)="getDatos()"><i class="ni ni-fat-add"></i></span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="form-row">
                                  <div class="form-group col-md-3">
                                    <label for="colonia">Colonia</label>
                                    <select [(ngModel)]="candidato.direccion.colonia" name="colonia" type="text" class="form-control" (change)="modificarMunicipio()" id="colonia" placeholder="">
                                      <option *ngFor="let colonia of colonias">{{colonia}}</option>
                                    </select>
                                  </div>
                                  <div class="form-group col-md-3">
                                    <label for="localidad">Localidad</label>
                                    <input [(ngModel)]="candidato.direccion.localidad" name="localidad" type="text" class="form-control" id="localidad" placeholder="">
                                  </div>
                                  <div class="form-group col-md-3">
                                    <label for="municipio">Municipio</label>
                                    <input [(ngModel)]="candidato.direccion.municipio" name="municipio" type="text" class="form-control" id="municipio">
                                  </div>
                                  <div class="form-group col-md-3">
                                    <label for="estado">Estado</label>
                                    <input [(ngModel)]="candidato.direccion.estado" name="estado" type="text" class="form-control" id="estado">
                                  </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group"> 
                                            <label for="desc_dir_empresa">Descripción</label>
                                            <textarea [(ngModel)]="candidato.direccion.descripcion" name="desc_dir_empresa" class="form-control" rows="5" id="desc_dir_empresa"></textarea>
                                        </div>
                                    </div>
                                </div>
                              </div>
                              <div class="tab-pane col-12" id="movientos_tab" role="tabpanel">
                                
                              </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-2 float-right">
                        <button class="btn btn-warning">Limpiar</button>
                        <button class="btn btn-success">Nuevo empleado</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
